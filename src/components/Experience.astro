---
import {calcYearsAndMonths} from './Util.js';

export interface Props {
    experience: string;
};

const { experience } = Astro.props;

var fromDate = new Date(2020, 9, 1); // 1 de Oct de 2020
var toDate = new Date(); // Today

var yearsAndMonths = calcYearsAndMonths(fromDate, toDate);
let resultadoFinal = yearsAndMonths.years + ' Años ' + yearsAndMonths.months + ' Meses';

// fromDate = new Date(2017, 3, 1); 
// toDate = new Date(2020,8,30);
// yearsAndMonths = calcYearsAndMonths(fromDate, toDate);
// console.log(yearsAndMonths.years +' '+yearsAndMonths.months);

---

<section id="experience" class="section section-secondary section-no-border m-0">
    <div class="container">
        <div class="row">
            <div class="col">
                <h2 class="text-color-light text-uppercase font-weight-extra-bold">{experience}</h2>
                <section class="timeline custom-timeline" id="timeline">
                    <div class="timeline-body">
                        <article class="timeline-box right custom-box-shadow-2">
                            <div class="row">
                                <div class="experience-info col-lg-3 col-sm-5 bg-color-primary">
                                    <span class="from text-color-light text-uppercase">
                                        Desde
                                        <span class="font-weight-semibold">Oct 2020</span>
                                    </span>
                                    <span class="to text-color-light text-uppercase">
                                        Hasta
                                        <span class="font-weight-semibold">Presente</span>
                                    </span>
                                    <p class="text-color-light">({resultadoFinal})</p>
                                    <span class="company text-color-light font-weight-semibold">
                                        Indra Company
                                        <span class="company-location text-color-light font-weight-normal text-uppercase">Perú</span>
                                    </span>
                                </div>
                                <div class="experience-description col-lg-9 col-sm-7 bg-color-dark">
                                    <h4 class="text-color-light font-weight-semibold">Arquitecto de Información</h4>
                                    <p class="custom-text-color-2">- Gestión de la mejora continua del sistema tributario Canarias España.</p>
                                    <p class="custom-text-color-2">- Lider de desarrollo LATAM del sistema tributario Canarias España.</p>
                                </div>
                            </div>
                        </article>
                        <article class="timeline-box right custom-box-shadow-2">
                            <div class="row">
                                <div class="experience-info col-lg-3 col-sm-5 bg-color-primary">
                                    <span class="from text-color-light text-uppercase">
                                        Desde
                                        <span class="font-weight-semibold">Abr 2017</span>
                                    </span>
                                    <span class="to text-color-light text-uppercase">
                                        Hasta
                                        <span class="font-weight-semibold">Sep 2020</span>
                                    </span>
                                    <p class="text-color-light">(3 Años 6 Meses)</p>
                                    <span class="company text-color-light font-weight-semibold">
                                        Sapia
                                        <span class="company-location text-color-light font-weight-normal text-uppercase">Perú</span>
                                    </span>
                                </div>
                                <div class="experience-description col-lg-9 col-sm-7 bg-color-dark">
                                    <h4 class="text-color-light font-weight-semibold">Arquitecto de Software</h4>
                                    <p class="custom-text-color-2">- Gestión de los requisitos no funcionales y Mejora continua para el proyecto Plataforma Única de la Superintendencia Nacional de Aduanas y de Administración de la SUNAT.
                                    </p>
                                    <p class="custom-text-color-2">- Ejecución de Pruebas de concepto de servicios Cloud como parte del equipo de PreVenta. 
                                    </p>
                                </div>
                            </div>
                        </article>
                        <article class="timeline-box right custom-box-shadow-2">
                            <div class="row">
                                <div class="experience-info col-lg-3 col-sm-5 bg-color-primary">
                                    <span class="from text-color-light text-uppercase">
                                        Desde
                                        <span class="font-weight-semibold">Feb 2010</span>
                                    </span>
                                    <span class="to text-color-light text-uppercase">
                                        Hasta
                                        <span class="font-weight-semibold">Dic 2016</span>
                                    </span>
                                    <p class="text-color-light">(6 Años 11 Meses)</p>
                                    <span class="company text-color-light font-weight-semibold">
                                        SUNAT
                                        <span class="company-location text-color-light font-weight-normal text-uppercase">Perú</span>
                                    </span>
                                </div>
                                <div class="experience-description col-lg-9 col-sm-7 bg-color-dark">
                                    <h4 class="text-color-light font-weight-semibold">Analista de Sistemas</h4>
                                    <p class="custom-text-color-2"> - Análisis, Diseño e Implementación de los Sistemas
                                        Tributarios, Administrativos y Gestión en Intendencia Nacional de
                                        Sistemas de Información (INSI) de la SUNAT.</p>
                                </div>
                            </div>
                        </article>
                        <div class="timeline-bar"></div>
                    </div>
                </section>
            </div>
        </div>
    </div>
</section>